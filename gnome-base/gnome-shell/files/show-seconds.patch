--- js/ui/panel.js.old	2010-03-03 02:29:54.592069037 +0100
+++ js/ui/panel.js	2010-03-03 02:32:17.724994036 +0100
@@ -610,20 +610,19 @@
 
     _updateClock: function() {
         let displayDate = new Date();
-        let msecRemaining = 60000 - (1000 * displayDate.getSeconds() +
-                                     displayDate.getMilliseconds());
+        let msecRemaining = 1000 - displayDate.getMilliseconds();
         if (msecRemaining < 500) {
-            displayDate.setMinutes(displayDate.getMinutes() + 1);
-            msecRemaining += 60000;
+            displayDate.setSeconds(displayDate.getSeconds() + 1);
+            msecRemaining += 1000;
         }
 	/* If there is no am or pm, time format is 24h */
 	let isTime24h = displayDate.toLocaleFormat("x%p") == "x";
 	if (isTime24h) {
 	  /* Translators: This is the time format used in 24-hour mode. */
-	  this._clock.set_text(displayDate.toLocaleFormat(_("%a %R")));
+	  this._clock.set_text(displayDate.toLocaleFormat(_("%a %R:%S")));
 	} else {
 	  /* Translators: This is a time format used for AM/PM. */
-	  this._clock.set_text(displayDate.toLocaleFormat(_("%a %l:%M %p")));
+	  this._clock.set_text(displayDate.toLocaleFormat(_("%a %l:%M:%S %p")));
 	}
         Mainloop.timeout_add(msecRemaining, Lang.bind(this, this._updateClock));
         return false;
