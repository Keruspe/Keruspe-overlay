This patch touches both the Makefile.am files as well as the Makefile.in files because
eautoreconf doesn't work properly on gtk+, for some reason.

--- gtk+-2.90.4.orig/demos/gtk-demo/Makefile.am
+++ gtk+-2.90.4/demos/gtk-demo/Makefile.am
@@ -85,6 +85,10 @@ gtk3_demo_DEPENDENCIES = $(DEPS)
 gtk3_demo_LDADD = $(LDADDS)
 gtk3_demo_LDFLAGS = -export-dynamic
 
+if USE_QUARTZ
+gtk_demo_LDFLAGS += -framework AppKit -framework Carbon
+endif
+
 IMAGEFILES=	alphatest.png		\
 	        apple-red.png		\
 		background.jpg		\
--- gtk+-2.90.4.orig/demos/gtk-demo/Makefile.in
+++ gtk+-2.90.4/demos/gtk-demo/Makefile.in
@@ -40,6 +40,7 @@ host_triplet = @host@
 DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in \
 	$(srcdir)/geninclude.pl.in $(top_srcdir)/Makefile.decl
 bin_PROGRAMS = gtk3-demo$(EXEEXT)
+@USE_QUARTZ_TRUE@am__append_1 = -framework AppKit -framework Carbon
 subdir = demos/gtk-demo
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/introspection.m4 \
@@ -459,7 +460,7 @@ gtk3_demo_SOURCES = \
 
 gtk3_demo_DEPENDENCIES = $(DEPS)
 gtk3_demo_LDADD = $(LDADDS)
-gtk3_demo_LDFLAGS = -export-dynamic
+gtk3_demo_LDFLAGS = -export-dynamic $(am__append_1)
 IMAGEFILES = alphatest.png		\
 	        apple-red.png		\
 		background.jpg		\
--- gtk+-2.90.4.orig/demos/Makefile.am
+++ gtk+-2.90.4/demos/Makefile.am
@@ -29,6 +29,10 @@ noinst_PROGRAMS = 		\
 	testpixbuf-scale 	\
 	pixbuf-demo
 
+if USE_QUARTZ
+AM_LDFLAGS = -framework AppKit -framework Carbon
+endif
+
 # Need to build test-inline-pixbufs.h for testpixbuf
 noinst_PROGRAMS += testpixbuf
 BUILT_SOURCES = test-inline-pixbufs.h
--- gtk+-2.90.4.orig/demos/Makefile.in
+++ gtk+-2.90.4/demos/Makefile.in
@@ -431,6 +431,7 @@ LDADDS = \
 	$(GTK_DEP_LIBS)							\
 	$(MATH_LIB)
 
+@USE_QUARTZ_TRUE@AM_LDFLAGS = -framework AppKit -framework Carbon
 BUILT_SOURCES = test-inline-pixbufs.h
 testpixbuf_DEPENDENCIES = $(DEPS)
 testpixbuf_drawable_DEPENDENCIES = $(DEPS)
--- gtk+-2.90.4.orig/gtk/Makefile.am
+++ gtk+-2.90.4/gtk/Makefile.am
@@ -837,7 +837,7 @@ libgtk_directfb_3_0_la_SOURCES = $(gtk_c
 
 libgtk_x11_3_0_la_LDFLAGS = $(libtool_opts)
 libgtk_win32_3_0_la_LDFLAGS = $(libtool_opts) -Wl,-luuid
-libgtk_quartz_3_0_la_LDFLAGS = $(libtool_opts)
+libgtk_quartz_3_0_la_LDFLAGS = $(libtool_opts) -framework AppKit -framework Carbon
 libgtk_directfb_3_0_la_LDFLAGS = $(libtool_opts)
 
 libgtk_x11_3_0_la_LIBADD = $(libadd)
@@ -850,6 +850,10 @@ libgtk_win32_3_0_la_DEPENDENCIES = $(gtk
 libgtk_quartz_3_0_la_DEPENDENCIES = $(deps)
 libgtk_directfb_3_0_la_DEPENDENCIES = $(deps)
 
+if USE_QUARTZ
+AM_LDFLAGS = -framework AppKit -framework Carbon
+endif
+
 if USE_WIN32
 libgtk_target_ldflags = $(gtk_win32_res_ldflag) $(gtk_win32_symbols)
 endif
--- gtk+-2.90.4.orig/gtk/Makefile.in
+++ gtk+-2.90.4/gtk/Makefile.in
@@ -1560,7 +1560,7 @@ libgtk_quartz_3_0_la_SOURCES = $(gtk_c_s
 libgtk_directfb_3_0_la_SOURCES = $(gtk_c_sources)
 libgtk_x11_3_0_la_LDFLAGS = $(libtool_opts)
 libgtk_win32_3_0_la_LDFLAGS = $(libtool_opts) -Wl,-luuid
-libgtk_quartz_3_0_la_LDFLAGS = $(libtool_opts)
+libgtk_quartz_3_0_la_LDFLAGS = $(libtool_opts) -framework AppKit -framework Carbon
 libgtk_directfb_3_0_la_LDFLAGS = $(libtool_opts)
 libgtk_x11_3_0_la_LIBADD = $(libadd)
 libgtk_win32_3_0_la_LIBADD = $(libadd) -lole32 -lgdi32 -lcomdlg32 -lwinspool -lcomctl32
@@ -1570,6 +1570,7 @@ libgtk_x11_3_0_la_DEPENDENCIES = $(deps)
 libgtk_win32_3_0_la_DEPENDENCIES = $(gtk_def) $(gtk_win32_res) $(deps)
 libgtk_quartz_3_0_la_DEPENDENCIES = $(deps)
 libgtk_directfb_3_0_la_DEPENDENCIES = $(deps)
+@USE_QUARTZ_TRUE@AM_LDFLAGS = -framework AppKit -framework Carbon
 @USE_WIN32_TRUE@libgtk_target_ldflags = $(gtk_win32_res_ldflag) $(gtk_win32_symbols)
 EXTRA_LTLIBRARIES = libgtk-x11-3.0.la libgtk-win32-3.0.la libgtk-quartz-3.0.la libgtk-directfb-3.0.la
 DEPS = $(gtktargetlib) $(top_builddir)/gdk/$(gdktargetlib)
--- gtk+-2.90.4.orig/perf/Makefile.am
+++ gtk+-2.90.4/perf/Makefile.am
@@ -19,6 +19,10 @@ LDADDS =								\
 	$(top_builddir)/gtk/$(gtktargetlib)				\
 	$(GTK_DEP_LIBS)
 
+if USE_QUARTZ
+AM_LDFLAGS = -framework AppKit -framework Carbon
+endif
+
 noinst_PROGRAMS	= 	\
 	testperf
 
--- gtk+-2.90.4.orig/perf/Makefile.in
+++ gtk+-2.90.4/perf/Makefile.in
@@ -368,6 +368,7 @@ LDADDS = \
 	$(top_builddir)/gtk/$(gtktargetlib)				\
 	$(GTK_DEP_LIBS)
 
+@USE_QUARTZ_TRUE@AM_LDFLAGS = -framework AppKit -framework Carbon
 testperf_DEPENDENCIES = $(TEST_DEPS)
 testperf_LDADD = $(LDADDS)
 testperf_SOURCES = \
--- gtk+-2.90.4.orig/tests/Makefile.am
+++ gtk+-2.90.4/tests/Makefile.am
@@ -21,6 +21,10 @@ LDADDS =								\
 	$(GTK_DEP_LIBS)							\
 	-lm
 
+if USE_QUARTZ
+AM_LDFLAGS = -framework AppKit -framework Carbon
+endif
+
 if USE_X11
 testsocket_programs = testsocket testsocket_child
 endif
--- gtk+-2.90.4.orig/tests/Makefile.in
+++ gtk+-2.90.4/tests/Makefile.in
@@ -627,6 +627,7 @@ LDADDS = \
 	$(GTK_DEP_LIBS)							\
 	-lm
 
+@USE_QUARTZ_TRUE@AM_LDFLAGS = -framework AppKit -framework Carbon
 @USE_X11_TRUE@testsocket_programs = testsocket testsocket_child
 @HAVE_CXX_TRUE@autotestkeywords_SOURCES = autotestkeywords.cc
 @HAVE_CXX_TRUE@autotestkeywords_CPPFLAGS = -I$(srcdir)/dummy-headers \
